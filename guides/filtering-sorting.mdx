---
title: Filtering & Sorting
description: Learn how to filter and sort ListCollections using filter, reject, where, whereIn, sort, sortBy, unique, and more while maintaining sequential keys.
---

ListCollection provides powerful filtering and sorting methods that always maintain sequential numeric indices.

## Filtering Methods

### filter()

Filter elements using a callback or remove falsy values:

```php
// Filter with callback
$list = new ListCollection([1, 2, 3, 4, 5]);
$filtered = $list->filter(fn (int $v): bool => $v > 2);

// Result: [0 => 3, 1 => 4, 2 => 5]
```

Without a callback, `filter()` removes falsy values:

```php
$list = new ListCollection([0, 1, '', 'hello', null, false, true]);
$filtered = $list->filter();

// Result: [0 => 1, 1 => 'hello', 2 => true]
```

<Note>
Unlike Laravel's Collection, ListCollection automatically re-indexes after filtering to maintain sequential keys.
</Note>

### reject()

The inverse of `filter()` - keep elements that don't match the condition:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$result = $list->reject(fn (int $v): bool => $v % 2 === 0);

// Result: [0 => 1, 1 => 3, 2 => 5]
```

### where()

Filter by a specific field value:

```php
$list = new ListCollection([
    ['active' => true, 'name' => 'A'],
    ['active' => false, 'name' => 'B'],
    ['active' => true, 'name' => 'C'],
]);

$result = $list->where('active', true);

// Result: [
//     0 => ['active' => true, 'name' => 'A'],
//     1 => ['active' => true, 'name' => 'C']
// ]
```

### whereIn()

Filter elements where a field's value is in a given array:

```php
$list = new ListCollection([
    ['id' => 1, 'name' => 'Alice'],
    ['id' => 2, 'name' => 'Bob'],
    ['id' => 3, 'name' => 'Charlie'],
]);

$result = $list->whereIn('id', [1, 3]);

// Result: [
//     0 => ['id' => 1, 'name' => 'Alice'],
//     1 => ['id' => 3, 'name' => 'Charlie']
// ]
```

## Sorting Methods

### sort()

Sort elements in ascending order:

```php
$list = new ListCollection([3, 1, 4, 1, 5]);
$sorted = $list->sort();

// Result: [0 => 1, 1 => 1, 2 => 3, 3 => 4, 4 => 5]
```

<Tip>
ListCollection automatically maintains sequential keys after sorting, unlike standard Laravel Collections which preserve the original keys.
</Tip>

### sortDesc()

Sort elements in descending order:

```php
$list = new ListCollection([1, 3, 2]);
$sorted = $list->sortDesc();

// Result: [0 => 3, 1 => 2, 2 => 1]
```

### sortBy()

Sort by a specific field or callback:

```php
$list = new ListCollection([
    ['name' => 'Charlie'],
    ['name' => 'Alice'],
    ['name' => 'Bob'],
]);

$sorted = $list->sortBy('name');

// Result: [
//     0 => ['name' => 'Alice'],
//     1 => ['name' => 'Bob'],
//     2 => ['name' => 'Charlie']
// ]
```

### sortByDesc()

Sort by a field in descending order:

```php
$list = new ListCollection([
    ['name' => 'Alice'],
    ['name' => 'Charlie'],
    ['name' => 'Bob'],
]);

$sorted = $list->sortByDesc('name');

// Result: [
//     0 => ['name' => 'Charlie'],
//     1 => ['name' => 'Bob'],
//     2 => ['name' => 'Alice']
// ]
```

## Uniqueness and Set Operations

### unique()

Remove duplicate values:

```php
$list = new ListCollection([1, 2, 2, 3, 3, 3]);
$unique = $list->unique();

// Result: [0 => 1, 1 => 2, 2 => 3]
```

### diff()

Get elements not present in the given array:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$diff = $list->diff([2, 4]);

// Result: [0 => 1, 1 => 3, 2 => 5]
```

### intersect()

Get elements present in both the list and given array:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$intersect = $list->intersect([2, 4, 6]);

// Result: [0 => 2, 1 => 4]
```

## Subsetting Methods

### except()

Get all elements except those at specified indices:

```php
$list = new ListCollection(['a', 'b', 'c', 'd']);
$result = $list->except([1, 3]);

// Result: [0 => 'a', 1 => 'c']
```

### only()

Get only elements at specified indices:

```php
$list = new ListCollection(['a', 'b', 'c', 'd']);
$result = $list->only([0, 2]);

// Result: [0 => 'a', 1 => 'c']
```

### take()

Take the first n elements:

```php
$list = new ListCollection(['a', 'b', 'c', 'd', 'e']);
$taken = $list->take(3);

// Result: [0 => 'a', 1 => 'b', 2 => 'c']
```

Use negative numbers to take from the end:

```php
$list = new ListCollection(['a', 'b', 'c', 'd', 'e']);
$result = $list->take(-2);

// Result: [0 => 'd', 1 => 'e']
```

### skip()

Skip the first n elements:

```php
$list = new ListCollection(['a', 'b', 'c', 'd', 'e']);
$skipped = $list->skip(2);

// Result: [0 => 'c', 1 => 'd', 2 => 'e']
```

### slice()

Extract a portion of the list:

```php
$list = new ListCollection(['a', 'b', 'c', 'd', 'e']);
$sliced = $list->slice(2);

// Result: [0 => 'c', 1 => 'd', 2 => 'e']
```

### partition()

Split into two lists based on a condition:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
[$even, $odd] = $list->partition(fn (int $v): bool => $v % 2 === 0);

// $even: [0 => 2, 1 => 4]
// $odd: [0 => 1, 1 => 3, 2 => 5]
```

Both returned lists are ListCollection instances with sequential keys.

## Conditional Filtering

### takeUntil()

Take elements until the callback returns true:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$result = $list->takeUntil(fn (int $v): bool => $v > 3);

// Result: [0 => 1, 1 => 2, 2 => 3]
```

### takeWhile()

Take elements while the callback returns true:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$result = $list->takeWhile(fn (int $v): bool => $v <= 3);

// Result: [0 => 1, 1 => 2, 2 => 3]
```

### skipUntil()

Skip elements until the callback returns true:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$result = $list->skipUntil(fn (int $v): bool => $v >= 3);

// Result: [0 => 3, 1 => 4, 2 => 5]
```

### skipWhile()

Skip elements while the callback returns true:

```php
$list = new ListCollection([1, 2, 3, 4, 5]);
$result = $list->skipWhile(fn (int $v): bool => $v < 3);

// Result: [0 => 3, 1 => 4, 2 => 5]
```

<Tip>
All filtering and sorting methods return new ListCollection instances with sequential numeric keys, making them perfect for chaining operations.
</Tip>

## Related Methods

- [Chaining Operations](/guides/chaining-operations) - Combine multiple operations
- [Transforming Data](/guides/transforming-data) - Transform filtered data
